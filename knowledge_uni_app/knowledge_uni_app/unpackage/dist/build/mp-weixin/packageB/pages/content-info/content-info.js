require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packageB/pages/content-info/content-info"],{"042a":function(t,n,e){"use strict";e.r(n);var a=e("1673"),i=e("3ec4");for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);e("f54a");var s,r=e("f0c5"),u=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],s);n["default"]=u.exports},1673:function(t,n,e){"use strict";var a;e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return a}));var i=function(){var t=this,n=t.$createElement,e=(t._self._c,Math.floor(parseInt(t.com_data.star))),a=0==t.kongkong?t.__map(t.com_data.list,(function(n,e){var a=t.__get_orig(n),i=Math.floor(parseInt(n.star));return{$orig:a,g1:i}})):null;t.$mp.data=Object.assign({},{$root:{g0:e,l0:a}})},o=[]},"16e0":function(t,n,e){},"3ec4":function(t,n,e){"use strict";e.r(n);var a=e("45d5"),i=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=i.a},"45d5":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){e.e("components/uni-ui/uni-nav-bar/uni-nav-bar").then(function(){return resolve(e("d075"))}.bind(null,e)).catch(e.oe)},i=getApp(),o={components:{uniNavBar:a},data:function(){return{ifbuy:0,scrollH:0,tabIndex:0,tabBars:[{name:"介绍"},{name:"评价"}],live_course_bg:"",liveInfo:{},hidefudao:"",teacherInfo:{id:"",avatar:"",user_nickname:""},fudaoTeacher:{id:"",avatar:"",user_nickname:""},paytype:"",userpasswordkHidden:!0,feedbackpassword:"",passwordcontent:"",getcourseid:"",nums:"",courseid:"",stararr:[1,2,3,4,5],com_data:{},kongkong:!0,webview:"",INFO:[],sorttype:"图文自学",sort:"0",type:1,animationData:[],ishidden:1}},onReady:function(){var n=this,e=this;t.getSystemInfo({success:function(t){e.scrollH=750*t.windowHeight/t.windowWidth-600-70,e.scrollH=750*t.windowHeight/t.windowWidth-750-70}}),this.getnums();var a=-7;setInterval((function(){var e=t.createAnimation({duration:400,delay:0});-7==a?a=0:0==a&&(a=-7),e.translateX(a).step(),n.animationData=e.export()}),400)},onShow:function(){var t=this;setTimeout((function(){t.getContentInfo(t.getcourseid),t.getPingjia(t.courseid),t.getnums()}),300),this.isHidden=1},onLoad:function(t){this.getContentInfo(t.courseid),this.getcourseid=t.courseid,this.courseid=t.courseid,this.getPingjia(t.courseid)},methods:{setLogin:function(){return""!=i.globalData.userinfo||(t.showModal({title:"请先登录你的账号",content:"",showCancel:!0,cancelText:"取消",confirmText:"立即登录",confirmColor:"#2C62EF",success:function(n){n.confirm&&t.navigateTo({url:"../../../pages/login/login"})},fail:function(){},complete:function(){}}),!1)},getnums:function(){var n=this,e=i.globalData;t.request({url:e.site_url+"Cart.GetNums",method:"POST",data:{uid:e.userinfo.id,token:e.userinfo.token},success:function(t){void 0!=t.data.data.info[0]&&(n.nums=t.data.data.info[0].nums)}})},openpinglun:function(){var n=this.setLogin();n&&t.navigateTo({url:"../../../pages/pinglun/pinglun?courseid="+this.courseid+"&title="+this.liveInfo.name+"&avatar="+this.teacherInfo.avatar+"&nickname="+this.teacherInfo.user_nickname})},getPingjia:function(n){var e=this,a=i.globalData;t.request({url:a.site_url+"Comment.GetList",method:"GET",data:{uid:a.userinfo.id,token:a.userinfo.token,courseid:n,p:1},success:function(t){if("0"==t.data.data.code){var n=t.data.data.info[0];void 0!=n.list&&n.list.length>0&&(e.kongkong=!1),e.com_data=n}},fail:function(){t.showToast({icon:"none",title:"网络错误"})}})},changeTab:function(t){this.tabIndex=t},onChangeTab:function(t){this.tabIndex=t.detail.current},backCourseList:function(){t.navigateBack({delta:1})},enterpasslive:function(){0==this.ifbuy?this.userpasswordkHidden=!1:this.enterlive()},submitPassword:function(){var n=this;t.showLoading({title:"......",icon:"none"});var e=this.passwordcontent;this.userpasswordkHidden=!0;var a=i.globalData;t.request({url:a.site_url+"Course.CheckPass",method:"POST",data:{pass:e,courseid:this.getcourseid,uid:a.userinfo.id,token:a.userinfo.token},success:function(e){t.hideLoading(),t.showToast({title:e.data.data.msg,icon:"none"}),0==e.data.data.code&&n.enterContent()},fail:function(){t.hideLoading()}})},submitCancle:function(){this.userpasswordkHidden=!0},getContentInfo:function(n){var e=this,a=i.globalData;t.request({url:a.site_url+"Course.GetDetail",method:"GET",data:{uid:a.userinfo.id,token:a.userinfo.token,courseid:n},success:function(n){if(700!=n.data.data.code){e.ifbuy=n.data.data.info[0].ifbuy,e.sort=n.data.data.info[0].sort,e.type=parseInt(n.data.data.info[0].type),1==e.type?e.sorttype="图文自学":2==e.type?e.sorttype="视频自学":3==e.type&&(e.sorttype="语音自学"),e.INFO=n.data.data.info;var a=n.data.data.info[0];console.log(a),e.live_course_bg=a.thumb?a.thumb:"",e.liveInfo=a,e.teacherInfo=a.userinfo,e.paytype=n.data.data.info[0].paytype,a.tutor.length<1?e.hidefudao="1":(e.fudaoTeacher.id=a.tutor[0].id,e.fudaoTeacher.avatar=a.tutor[0].avatar,e.fudaoTeacher.user_nickname=a.tutor[0].user_nickname)}else t.navigateTo({url:"../../../pages/login/login",success:function(t){},fail:function(){},complete:function(){}})}})},enterpaylive:function(){var t=this.setLogin();t&&1==this.liveInfo.ifbuy&&this.enterContent()},enterContent:function(){var n=this.setLogin();n&&t.navigateTo({url:"../content-detail/content-detail?info="+encodeURIComponent(JSON.stringify(this.liveInfo))+"&type="+this.liveInfo.type+"&thumb="+this.live_course_bg+"&addtime="+this.liveInfo.add_time})},viewTeacherInfo:function(n){var e=this.setLogin();e&&t.navigateTo({url:"../../../pages/teacherinfo/teacherinfo?touid="+n})},doAddCar:function(){var n=this,e=this.setLogin();if(e){var a=i.globalData;t.request({url:a.site_url+"Cart.Add",method:"POST",data:{type:"0",typeid:this.getcourseid,uid:a.userinfo.id,token:a.userinfo.token},success:function(e){n.getContentInfo(n.getcourseid),n.getnums(),t.showToast({title:e.data.data.msg})}})}},shopcar:function(){var n=this.setLogin();n&&t.navigateTo({url:"../../../pages/shop-car/shop-car"})},buy:function(){var n=this.setLogin();n&&t.navigateTo({url:"../../../pages/pay/pay?info="+encodeURIComponent(JSON.stringify(this.INFO))})}}};n.default=o}).call(this,e("543d")["default"])},"58dc":function(t,n,e){"use strict";(function(t){e("1754");a(e("66fd"));var n=a(e("042a"));function a(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(n.default)}).call(this,e("543d")["createPage"])},f54a:function(t,n,e){"use strict";var a=e("16e0"),i=e.n(a);i.a}},[["58dc","common/runtime","common/vendor"]]]);